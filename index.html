<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENCHEM</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="commonstyle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Intro Screen -->
    <div class="intro">
        <div class="logo">
            <h1>ENCHEM</h1>
            <div class="wrapper" id="wrapper">
                <p class="typewriter" id="typewriter">Learn Chemistry with Ease</p>
            </div>
        </div>
    </div>

    <!-- Navigation Bar Code starts here: -->
    <nav>
        <div class="menu">
            <div class="logo">
                <a href="index.html">ENCHEM</a>
            </div>
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
            <ul>
                <li><a href="About/about.html">About Us</a></li>
                <li><a href="Notes/notes.html">Theory</a></li>
                <li><a href="Formula sheet/formula.html">Formula sheets</a></li>
                <li><a href="Quiz/Quiz.html">Quiz</a></li>
                <li><a href="pyq/pyq.html">Questions</a></li>
                <img src="moon.png" id="icon" alt="mode switch icon">
            </ul>
        </div>
    </nav>

    <div class="center">
        <div class="title">Welcome to <span class="enchem">ENCHEM</span></div>

        <div class="sub_title">Chemistry on your fingertips </div>
        <div class="btns">
            <a href="About/about.html" class="underline"><class class="mc">Get Started</a></class>
        </div>
    </div>
    <script>
        // Remove intro screen after animation
        const intro = document.querySelector('.intro');
        window.addEventListener('load', () => {
            setTimeout(() => {
                intro.classList.add('hidden');
            }, 3000); // Adjust time as needed (3 seconds)
        });


        // Hamburger menu toggle for responsive navigation
        const hamburger = document.querySelector('.hamburger');
        const menu = document.querySelector('.menu ul');
        hamburger.addEventListener('click', () => {
            menu.classList.toggle('show');
        });


        
    </script> <!-- for dark theme -->
    <script>
        var icon = document.getElementById("icon");
        icon.onclick = function () {
            document.body.classList.toggle("dark-theme");
            if (document.body.classList.contains("dark-theme")) {
                icon.src = "sun.png";
            }
            else {
                icon.src = "moon.png";
            }


        }       
        // js for button to change bg
        // JavaScript to toggle background images
        const toggleButton = document.getElementById('icon');
        let isImage1 = true; // Tracks the current background
        

        toggleButton.addEventListener('click', () => {
            // Toggle the background image
            document.body.style.backgroundImage = isImage1
                ? "url('1.png')"
                : "url('2.png')";
            isImage1 = !isImage1; // Flip the boolean
        });

        // New code 18th december to preload images
        window.onload = () => {
    const savedTheme = localStorage.getItem('theme') || 'light';

    // Apply the saved theme or default to light
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-theme');
        document.body.style.backgroundImage = "url('./2.png')";
        icon.src = "sun.png"; // Icon for light mode toggle
    } else {
        document.body.style.backgroundImage = "url('./1.png')";
        icon.src = "moon.png"; // Icon for dark mode toggle
    }

    // Preload both background images
    const images = ['./1.png', './2.png']; // Paths to images
    images.forEach((src) => {
        const img = new Image();
        img.src = src;
    });
};

icon.onclick = function () {
    const isDark = document.body.classList.toggle('dark-theme');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    document.body.style.backgroundImage = isDark ? "url('./2.png')" : "url('./1.png')";
    icon.src = isDark ? "sun.png" : "moon.png";
};

    </script>
</body>

</html>